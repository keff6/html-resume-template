<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.2/jspdf.min.js" integrity="sha256-7yY4x9Gb1vqsx0jySxkg5lw+QnCz9Gt7Oio5I/lSj2M=" crossorigin="anonymous"></script>
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"></script>
  <title>Resume</title>
</head>
<body>
  <div id="main-container">
    <button id="cmd">Download PDF</button>
    <div class="page" id="toPrint">
      <header>
        <h1 class="name">Name LastName</h1>
        <h3 class="major">Major</h3>
      </header>
      <section class="contents">
        <section class="main-section">
          <section class="highlights">
            Lorem ipsum dolor sit amet consectetur, adipisicing elit. Libero laudantium, earum aut ex tempora similique, a distinctio dolorum numquam cumque saepe eaque itaque laborum odio exercitationem illum possimus, soluta quis explicabo quisquam obcaecati. Dolores neque, ipsa quas magnam facere voluptatum saepe, ab blanditiis, quae autem modi repellat pariatur! Porro, nemo.
          </section>
          <section class="experience">
            <div class="section-title">Experience</div>
            <div class="experience-card">
              <div class="title">Position</div>
              <div class="company">
                <span class="name">Company</span>
                <span class="duration">Oct 2013 - Nov 2016</span>
              </div>
              <div>
                <ul class='experience-list'>
                  <li>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolore, esse.</li>
                  <li>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolore, esse.</li>
                </ul>
              </div>
            </div>

            <div class="experience-card">
              <div class="title">Position</div>
              <div class="company">
                <span class="name">Company</span>
                <span class="duration">Oct 2013 - Nov 2016</span>
              </div>
              <div>
                <ul class='experience-list'>
                <li>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolore, esse.</li>
                  <li>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Dolore, esse.</li>
                </ul>
              </div>
            </div>
          </section>
          <section class="certificates">
            <div class="section-title">Certificates</div>
            <div class="certificate-card">
              <div class="title">Title</div>
              <div class="date">Nov 2016</div>
            </div>
            <div class="certificate-card">
              <div class="title">Title</div>
              <div class="date">Nov 2016</div>
            </div>
          </section>
          <section class="education">
            <div class="section-title">Education</div>
            <div class="education-card">
              <div class="title">Title</div>
              <div class="institution">Institution</div>
              <div class="date">2006 - 2013</div>
            </div>
          </section>
        </section>
        <section class="right-section">
          <section class="personal-info">
            <div class="section-title">Personal Info</div>
            <div class="info-item">
              <strong>Title</strong>
              <span class="info">Information Line</span>
              <span class="info">Information Line</span>
              <span class="info">Information Line</span>
            </div>
            <div class="info-item">
              <strong>Title</strong>
              <span class="info">Information Line</span>
            </div>
            <div class="info-item">
              <strong>Title</strong>
              <span class="info">Information Line</span>
            </div>
          </section>
          <section class="skills">
            <div class="section-title">Skills</div>
            <div class="skill-card">
              <span>Title</span>
              <div class="skill-level-container">
                <div class="disc"></div>
                <div class="disc"></div>
                <div class="disc"></div>
                <div class="disc"></div>
                <div class="disc"></div>
              </div>
            </div>
            <div class="skill-card">
              <span>Title</span>
              <div class="skill-level-container">
                <div class="disc fill"></div>
                <div class="disc fill"></div>
                <div class="disc fill"></div>
                <div class="disc"></div>
                <div class="disc"></div>
              </div>
            </div>
          </section>
        </section>
      </section>
    </div>
  </div>
  <script>
    window.html2canvas = html2canvas;
    const btnGenerate = document.getElementById("cmd");
    const source = window.document.getElementById("toPrint");

    function generatePdf() {
      const pdf = new jsPDF('p', 'pt', [595, 842]);
      const printSource = source.cloneNode(true);
      const lists = printSource.getElementsByClassName('experience-list');

      for(const list of lists) {
        list.style.marginLeft = '10px';
      }

      pdf.html(printSource, {
        html2canvas: {
            scale: 0.75,
        },
        callback: function (pdf) {
          pdf.save('resume.pdf');
        }
      });
    }

    btnGenerate.addEventListener('click', generatePdf);

  </script>
</body>
</html>